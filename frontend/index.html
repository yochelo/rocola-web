
<script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>

<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ğŸ¶ Rocola Web (Local)</title>
  <link rel="stylesheet" href="style.css" />
  <script defer src="main.js"></script>
</head>

<body>

  <!-- MÃ³dulo Inicio -->
  <main id="mod-inicio" class="mod active inicio">
    <div class="hero">
      <img src="rocola-bg.png" alt="Rocola Online" class="fondo" />
      <div class="botones">
        <button class="btn primary" data-icon="ğŸ¤" onclick="mostrarModulo('maestro')">
          Soy Deejay
        </button>
        <button class="btn" data-icon="ğŸ˜" onclick="mostrarModulo('invitado')">
          PÃºblico VIP
        </button>
      </div>
    </div>
  </main>


  <!-- MÃ³dulo Maestro -->
  <main id="mod-maestro" class="mod">
    <header class="banner-rocola"></header>
    <nav class="tabs">
      <button class="tab" onclick="mostrarConfirmacion()">ğŸ§¹ Limpiar</button>
      <button class="tab active" onclick="cambiarPestaÃ±a('maestro','lista', this)">ğŸµ Lista</button>
      <button class="tab" onclick="cambiarPestaÃ±a('maestro','player', this)">â• Agregar</button>
      <button class="tab" onclick="cambiarPestaÃ±a('maestro','qr', this)">ğŸ“· QR</button>
      <button class="tab" onclick="cambiarPestaÃ±a('maestro','mensajes', this)">ğŸ’¬ Muro</button>
    </nav>

<section id="tab-maestro-lista" class="tabpane active">
  <ul id="lista-maestro" class="lista"></ul>
</section>

<!-- ğŸ§ PestaÃ±a: Player -->
<section id="tab-maestro-player" class="tabpane">
  <div class="player-controls">
    <input id="yt-busqueda" class="input" placeholder="Buscar en YouTube (ej: beatles rain)" />
    <button class="btn primary" onclick="buscarVideosLocal()">Buscar</button>
  </div>

  <!-- Mensaje dinÃ¡mico del buscador -->
  <p class="hint" id="yt-info"></p>

  <div class="layout">
    <div class="col izquierda" id="resultados"></div>
    <div class="col derecha">
      <iframe id="previewPlayer" src="" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>
</section>
<section id="tab-maestro-mensajes" class="tabpane">
  <div class="mensajes-box">
    <div class="nombre-wrapper">
      <div class="nombre-box">
        <input id="nombre-usuario-maestro" type="text" placeholder="Tu nombre o emoji ğŸ˜" maxlength="30">
        <input id="color-usuario-maestro" type="color" value="#01FE59" title="ElegÃ­ tu color">
        <label for="color-usuario-maestro" class="color-label">Color</label>        
      </div>
    </div>

    <div class="mensajes-input">
      <input id="nuevo-mensaje-maestro" type="text" placeholder="EscribÃ­ tu mensaje..." maxlength="120">
      <button onclick="enviarMensaje('maestro')">Enviar</button>
    </div>

    <ul id="lista-mensajes-maestro" class="mensajes-lista"></ul>
  </div>
</section>
<!-- ğŸ“· PestaÃ±a QR (Maestro) -->
<section id="tab-maestro-qr" class="tabpane">
  <div class="qr-container">
    <h3>ğŸ“± EscaneÃ¡ para unirte a la Rocola</h3>
    <div id="qr-maestro"></div>
    <p id="qr-link-maestro" class="qr-link">Cargando IP local...</p>
    <button class="btn-open-link" onclick="copiarLinkQR(window.location.origin)">
      Copiar link
    </button>
  </div>
</section>






</main> 
  <!-- MÃ³dulo Invitado -->
  <main id="mod-invitado" class="mod">
    <header class="banner-rocola"></header>
    <nav class="tabs">
<button class="tab active" onclick="cambiarPestaÃ±a('invitado','lista', this)">ğŸµ Lista</button>
<button class="tab" onclick="cambiarPestaÃ±a('invitado','player', this)">â• Agregar</button>
<button class="tab" onclick="cambiarPestaÃ±a('invitado','qr', this)">ğŸ“· QR</button>
<button class="tab" onclick="cambiarPestaÃ±a('invitado','mensajes', this)">ğŸ’¬ Muro</button>

    </nav>

    <section id="tab-invitado-lista" class="tabpane active">
      <ul id="lista-invitado" class="lista"></ul>
    </section>

    <!-- ğŸ§ PestaÃ±a: Player (versiÃ³n Invitado) -->
    <section id="tab-invitado-player" class="tabpane">
      <div class="player-controls">
        <input id="yt-busqueda-invitado" class="input" placeholder="Buscar en YouTube (ej: beatles rain)" />
        <button class="btn primary" onclick="buscarVideosLocalInvitado()">Buscar</button>
      </div>

      <!-- Mensaje dinÃ¡mico del buscador -->
      <p class="hint" id="yt-info-invitado"></p>

      <div class="layout">
        <div class="col izquierda" id="resultados-invitado"></div>

        <div class="col derecha">
          <iframe id="previewPlayerInvitado" src="" frameborder="0" allowfullscreen></iframe>
        </div>
      </div>
    </section>
    
<section id="tab-invitado-mensajes" class="tabpane">
  <div class="mensajes-box">
    <!-- ğŸ§ Contenedor del nombre -->
    <div class="nombre-wrapper">
      <div class="nombre-box">
        <input id="nombre-usuario-invitado" type="text" placeholder="Tu nombre o emoji ğŸ˜" maxlength="30">
        <input id="color-usuario-invitado" type="color" value="#01FE59" title="ElegÃ­ tu color">
        <label for="color-usuario-invitado" class="color-label">Color</label>   
      </div>
    </div>

    <!-- ğŸ’¬ Input para mensaje -->
    <div class="mensajes-input">
      <input id="nuevo-mensaje-invitado" type="text" placeholder="EscribÃ­ tu mensaje..." maxlength="120">
      <button onclick="enviarMensaje('invitado')">Enviar</button>
    </div>

    <!-- ğŸ“œ Lista de mensajes -->
    <ul id="lista-mensajes-invitado" class="mensajes-lista"></ul>
  </div>
</section>
<!-- ğŸ“· PestaÃ±a QR (Invitado) -->
<section id="tab-invitado-qr" class="tabpane">
  <div class="qr-container">
    <h3>ğŸ“± EscaneÃ¡ para unirte a la Rocola</h3>
    <div id="qr-invitado"></div>
    <p id="qr-link-invitado" class="qr-link">Cargando IP local...</p>
    <button class="btn-open-link" onclick="copiarLinkQR(window.location.origin)">
      Copiar link
    </button>
  </div>
</section>

</main>


  <footer class="footer">
    <small>- Final - </small>
  </footer>
  <script>
window.addEventListener("load", () => {
  document.querySelector("header.banner-rocola").classList.add("loaded");
});
</script>

<!-- ğŸ§¹ Modal de confirmaciÃ³n -->
<div id="confirmModal" class="modal">
  <div class="modal-content">
    <p>âš ï¸ Â¿EstÃ¡s seguro de borrar <strong>todas las canciones</strong> de la lista?</p>
    <div class="botones-modal">
      <button id="confirmYes">SÃ­, borrar</button>
      <button id="confirmNo">Cancelar</button>
    </div>
  </div>
</div>


</body>
</html>
